document.body.onload=function(){chrome.storage.sync.get("baction",function(items){if(!chrome.runtime.error){document.getElementById('baction').checked=items.baction}});var e,t,r;chrome.windows.getCurrent(function(a){chrome.tabs.query({active:!0,windowId:a.id},function(a){a[0];var i=new URL(a[0].url);e=i.protocol+"//"+i.host,t=i.pathname,r=i.search})}),$(".generic-func").click(function(){var t=$(this).attr("href");loadPage(e,t)}),$("#debug-clientlibs").click(function(){var a=updateQueryStringParameter((t=t.replace("/editor.html",""))+r,"debugClientLibs","true");loadPage(e,a)}),$("#disabled-mode").click(function(){var a=updateQueryStringParameter((t=t.replace("/editor.html",""))+r,"wcmmode","disabled");loadPage(e,a)}),$("#edit-mode").click(function(){loadPage(e,"/editor.html"+t)}),$("#page-properties").click(function(){t=(t=t.replace("/editor.html","")).replace(".html",""),loadPage(e,"/mnt/overlay/wcm/core/content/sites/properties.html?item="+t)}),$("#in-crx-de").click(function(){t=(t=t.replace("/editor.html","")).replace(".html",""),loadPage(e,"/crx/de/index.jsp#"+t)})}
document.getElementById("baction").onclick=function(){var d=document.getElementById("baction").checked;chrome.storage.sync.set({"baction":d},function(){if(chrome.runtime.error){console.log("Runtime error.")}})}
function loadPage(e,t){var likesColor=document.getElementById("baction").checked;if(likesColor){chrome.tabs.create({url:e+t})}else{chrome.tabs.update(null,{active:!0,url:e+t}),window.close()}}
function updateQueryStringParameter(e,t,r){var a=new RegExp("([?&])"+t+"=.*?(&|$)","i"),i=-1!==e.indexOf("?")?"&":"?";return e.match(a)?e.replace(a,"$1"+t+"="+r+"$2"):e+i+t+"="+r}